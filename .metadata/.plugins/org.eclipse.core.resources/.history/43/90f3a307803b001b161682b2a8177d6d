<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Users">

	<insert id="insert" parameterType="userVO">
		<if test="  '남성'.equals(gender)    ">
		INSERT INTO Users(userid, passwd, name, age, gender)
		VALUES(#{userid}, #{passwd}, #{name}, #{age}, '1')
		</if>
		<if test="   '여성'.equals(gender)  ">
		INSERT INTO Users(userid, passwd, name, age, gender)
		VALUES(#{userid}, #{passwd}, #{name}, #{age}, '2')
		</if>
	</insert>

	<resultMap type="userVO" id="selectMap">
		<!-- java.sql.Types에 있는 type들 -->
		<result column="userid" jdbcType="VARCHAR" property="userid" javaType="String"/>
		<result column="passwd" jdbcType="VARCHAR" property="passwd" javaType="String"/>
		<result column="name" jdbcType="VARCHAR" property="name" javaType="String"/>
		<result column="age" jdbcType="INTEGER" property="age" javaType="Integer"/>
		<result column="gender" jdbcType="CHAR" property="gender" javaType="String"/>
	</resultMap>
	
	<select id="selectAll" resultType="userVO" resultMap="selectMap">
		SELECT * FROM USERS ORDER BY age DESC;
	
	</select>
</mapper>