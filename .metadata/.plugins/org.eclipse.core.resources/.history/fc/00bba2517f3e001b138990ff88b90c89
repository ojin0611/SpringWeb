CREATE OR REPLACE PROCEDURE sp_users_login
(
    v_userid     IN      users.userid%TYPE,
    v_passwd     IN      users.passwd%TYPE,
    v_result     OUT     NUMBER
)
IS
    t_passwd    users.passwd%TYPE;
BEGIN
    
    SELECT passwd INTO t_passwd
    FROM USERS
    WHERE userid = v_userid;
    
    IF v_passwd = t_passwd THEN
        v_result := 1;
    ELSE
        v_result := 0;
    END IF;
    
    Exception
        WHEN NO_DATA_FOUND THEN
            v_result := 1;
END;

ALTER TABLE USERS
ADD (flag   NUMBER(1) DEFAULT 1);